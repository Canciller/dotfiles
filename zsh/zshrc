export PATH=$HOME/.local/bin:$HOME/.bin:/usr/local/bin:$PATH

export ZSH="$HOME/.oh-my-zsh"

if [ $TERM = "linux" ];then
    ZSH_THEME="candy"
else
#	ZSH_THEME="bira"
    ZSH_THEME="candy"
fi

# sensitive completion must be off. _ and - will be interchangeable.
HYPHEN_INSENSITIVE="true"

# Which plugins would you like to load? (plugins can be found in ~/.oh-my-zsh/plugins/*)
# Custom plugins may be added to ~/.oh-my-zsh/custom/plugins/
# Example format: plugins=(rails git textmate ruby lighthouse)
# Add wisely, as too many plugins slow down shell startup.
plugins=(
  vi-mode
  git 
  archlinux
  history
  sudo
  systemd
  web-search
  pip
  python
  npm
)

[ -f "$ZSH/oh-my-zsh.sh" ] && source "$ZSH/oh-my-zsh.sh"

zstyle ':completion:*' rehash true

# functions

command_exists() {
	[ -z "$1" ] && return 1
    return $(command -v "$1" &>/dev/null)
}

swap() {
	[ -e "$1" -a -e "$2" ] || return 1
    local TMPFILE=tmp.$$
    mv "$1" $TMPFILE
    mv "$2" "$1"
    mv $TMPFILE "$2"
}

# variables

EDITOR="vi"

if command_exists "nvim"; then
    EDITOR="nvim"
elif command_exists "vim"; then
    EDITOR="vim"
fi

export EDITOR;

export CONFIG="$HOME/.config"
export DOTFILES="$HOME/.dotfiles"
export PROJECTS="$HOME/.projects"

# quick edit aliases
alias zshconfig="$EDITOR $HOME/.zshrc"
alias i3config="$EDITOR $CONFIG/i3/config"
alias nvimconfig="$EDITOR $CONFIG/nvim/init.vim"
alias polybarconfig="$EDITOR $CONFIG/polybar/config"

# useful command aliases
alias zshsource="source $HOME/.zshrc" 
alias gdbtui="gdb -tui -q"
alias session-menu="$HOME/.config/rofi/rofi_session"

# run ssh-agent and export variables
if ! pgrep -u "$USER" ssh-agent > /dev/null; then
    ssh-agent > ~/.ssh-agent-thing
fi
if [[ ! "$SSH_AUTH_SOCK" ]]; then
    eval "$(cat ~/.ssh-agent-thing)"
fi
